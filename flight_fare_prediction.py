# -*- coding: utf-8 -*-
"""flight_fare_prediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1Tx6URGSdMju_XJmmjXl_PgUEWwHPKeXj
"""

import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns

data = pd.read_excel("jk.xlsx")
data.head()
pd.set_option('display.max_columns',None)

k = 1
data["durh"] = ""
data["durm"] = ""
for i in range(len(data)):
  for j in data.Duration[i]:
    if((j=='h')or (j=='m')):
      k = k-1
    else:
      if(k):
        data["durh"][i] = data["durh"][i] + j
      else:
        data["durm"][i] = data["durm"][i] + j
  if(data["durh"][i] == ""):
    data["durh"][i] = "0"
  if(data["durm"][i] == ""):
    data["durm"][i] = "0"
  k = 1

data.head()

data.drop(["Duration"],axis = 1,inplace = True)

data.head()

mk = pd.to_datetime(data.Date_of_Journey,format = "%d/%m/%Y")
data["day"] = mk.dt.day
data["month"] = mk.dt.month
data.head()

kk = pd.to_datetime(data.Dep_Time)
data["deph"] = kk.dt.hour
data["depm"] = kk.dt.minute

sk = pd.to_datetime(data.Arrival_Time)
data["arrh"] = sk.dt.hour
data["arrmm"] = sk.dt.minute

data.drop(["Additional_Info","Route","Total_Stops"],axis = 1,inplace = True)
data.head()

Airline = data[["Airline"]]

Airline = pd.get_dummies(Airline, drop_first= True)

Source = data[["Source"]]

Source = pd.get_dummies(Source, drop_first= True)

Destination = data[["Destination"]]

Destination = pd.get_dummies(Destination, drop_first = True)

data.drop(["Dep_Time","Arrival_Time"], axis = 1, inplace = True)

data.head()